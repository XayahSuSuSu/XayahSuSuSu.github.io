---
title: 树莓派入门体验笔记
date: 2021-09-13 21:33:14
tags: [ '树莓派', 'Linux' ]
---

# 前言
老早就对这块神奇的**微型电脑**感兴趣，机缘巧合之下**暂时**搞到一块，我手上这块是**树莓派3B**。

# 镜像烧录
起初我还以为我手上这块能够直接**U盘引导**，在我无数次尝试下终于放弃了这个想法，实际上 **树莓派3B+** 才行。

因此只能用**SD卡**了！虽然卡能直接插在板子上，但**烧录镜像**的时候还是需要**读卡器**这一**远古神器**。

我的**烧录环境**是**Windows**。

下载并安装 **[Raspberry Pi Imager](https://www.raspberrypi.org/software/)** 。

打开**Raspberry Pi Imager**

{% asset_img RaspberryPiImager.png RaspberryPiImager %}

首先选择**镜像**（官方的**Raspberry Pi OS**蛮好用的）

{% asset_img ChooseOS.png ChooseOS %}

把**SD卡**插入**读卡器**，再**连接**到**PC**

然后选择**存储卡**

{% asset_img ChooseStorage.png ChooseStorage %}

接下来点击**Write**，可以坐下来喝一杯**奶茶**并等待**完成**。

{% asset_img Finish.png Finish %}

# 开机前准备
如果有**HDMI接口**和**显示器**，那么可以直接进行**下一步**，然后**手动连接网络**。

如果有**网线**，那么也可以直接进行**下一步**。

如果**啥都没有**（**像我一样**），那么就需要在开机前对烧录好系统的SD卡**“动点手脚”**了。

首先**重新拔插读卡器**

**不要格式化H:**（**Windows**无法识别**Linux文件系统**）

{% asset_img Format.png Format %}

然后打开另一个**boot分区**

在该分区**根目录**下**新建**一个名为 **`ssh`** 的**空白文件**，以**打开**树莓派**默认关闭**的**SSH功能**

再在**该分区**下新建 **`wpa_supplicant.conf`** ，**配置待连接的WIFI信息**。

```
country=CN
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid="WifiName"
    psk="Password"
    priority=1
}
```

{% asset_img wpa_supplicant.conf.png wpa_supplicant.conf %}

最后，**boot分区根目录**新建文件如下：

{% asset_img File.png File %}

到此，**万事俱备，只欠东风**。

# 开机
将**SD卡**插在**树莓派背后**，再**接上电源**。

如果**正常**的话，此时树莓派**红灯常亮（树莓派电源正常）**，**绿灯闪烁（读写SD卡正常）**。

在之前的**网络**配置**正常**的前提下，我们通过**路由器**可查看到**树莓派**的**IP地址**。

{% asset_img IP.png IP %}

打开任意一款**SSH工具**（我这里用的是**Xshell**）

输入相应**IP地址**和**端口（默认22）**

{% asset_img NewSSH.png NewSSH %}

**接收主机密钥**

{% asset_img Auth.png Auth %}

# 登录

默认账号： **`pi`**

{% asset_img username.png username %}

默认密码： **`raspberry`**

{% asset_img pwd.png pwd %}

至此，我们已**成功开机并登录**！

{% asset_img successfully.png successfully %}

# 初次开机的一些配置

### 换源
第一次启动**Linux**，首先要做的当然是**换源**啦！

这里以**阿里源**为例。

首先查看**系统代号**：

```
lsb_release -a
```

{% asset_img codename.png codename %}

我手上这块**树莓派OS**系统代号是**buster**（如果是其他版本，请自行更换下述代码中的**buster**），修改**两处源**

```
sudo nano /etc/apt/sources.list
```

将之前的用 **#** 注释掉，再**加入**以下内容：

```
deb http://mirrors.aliyun.com/raspbian/raspbian/ buster main contrib non-free rpi
deb-src http://mirrors.aliyun.com/raspbian/raspbian/ buster main contrib non-free rpi
```

{% asset_img sources.list.png sources.list %}

键入 **Ctrl + O** 保存
键入 **Enter（回车）** 确认文件名
键入 **Ctrl + X** 退出

```
sudo nano /etc/apt/sources.list.d/raspi.list
```

将之前的用 **#** 注释掉，再**加入**以下内容：

```
deb http://mirrors.aliyun.com/raspbian/raspbian/ buster main
deb-src http://mirrors.aliyun.com/raspbian/raspbian/ buster main
```

{% asset_img raspi.list.png raspi.list %}

键入 **Ctrl + O** 保存
键入 **Enter（回车）** 确认文件名
键入 **Ctrl + X** 退出

**更新源**并**升级**：

```
sudo apt-get update && sudo apt-get upgrade
```

### 校准时间
选择**Asia - ShangHai**：

```
sudo dpkg-reconfigure tzdata
```

# 关机
可得好好**保护数据**！**关机**时**记得**

```
sudo shutdown -r now
```

然后再**断电**！